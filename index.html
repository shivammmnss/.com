<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Live Weather — Current + 5-day Forecast</title>
<style>
  :root{
    --bg:#0b1220; --card:#0f1724; --muted:#94a3b8; --accent:#38bdf8; --glass: rgba(255,255,255,0.04);
    --radius:14px; --gap:14px; --maxw:900px;
  }
  *{box-sizing:border-box;font-family:Inter,system-ui}
  html,body{height:100%;margin:0;background:#071022;color:#e6eef8}
  .wrap{max-width:var(--maxw);margin:28px auto;padding:20px;display:grid;gap:var(--gap)}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px}
  input[type="search"]{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
  button{background:var(--accent);border:none;padding:8px 12px;border-radius:10px;color:#042;cursor:pointer;font-weight:600}
  .card{background:rgba(255,255,255,0.03);padding:18px;border-radius:var(--radius)}
  .current{display:flex;gap:18px;align-items:center}
  .temp{font-size:48px;font-weight:700;margin:0}
  .forecast{display:flex;gap:10px;overflow:auto;padding-top:8px}
  .day{min-width:120px;padding:10px;border-radius:12px;background:var(--glass);text-align:center}
  .dtemp{font-weight:700;font-size:18px;margin-top:6px}
  .small{font-size:13px;color:var(--muted)}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Live Weather</h1>
      <div>
        <input id="search" type="search" placeholder="Enter city" />
        <button id="btnSearch">Search</button>
      </div>
    </header>

    <section class="card">
      <h2 id="location">—</h2>
      <div class="current">
        <img id="curIcon" src="" width="100" />
        <div>
          <p id="temp" class="temp">--°</p>
          <p id="desc" class="small">—</p>
          <p id="hum" class="small">Humidity: —</p>
          <p id="wind" class="small">Wind: —</p>
        </div>
      </div>
    </section>

    <section class="card">
      <h3>5-day Forecast</h3>
      <div id="forecast" class="forecast"></div>
    </section>
  </div>

<script>
const API_KEY = "bd5e378503939ddaee76f12ad7a97608";

document.getElementById("btnSearch").addEventListener("click", () => {
  const city = document.getElementById("search").value.trim();
  if(city) fetchWeather(city);
});

async function fetchWeather(city){
  try{
    
    const current = await fetch(
      `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`
    ).then(r=>r.json());

    document.getElementById("location").textContent = current.name;
    document.getElementById("temp").textContent = Math.round(current.main.temp) + "°C";
    document.getElementById("desc").textContent = current.weather[0].description;
    document.getElementById("hum").textContent = "Humidity: " + current.main.humidity + "%";
    document.getElementById("wind").textContent = "Wind: " + current.wind.speed + " m/s";
    document.getElementById("curIcon").src =
      `https://openweathermap.org/img/wn/${current.weather[0].icon}@2x.png`;

    
    const forecast = await fetch(
      `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${API_KEY}&units=metric`
    ).then(r=>r.json());

    const container = document.getElementById("forecast");
    container.innerHTML = "";

    
    let daily = {};
    forecast.list.forEach(item=>{
      if(item.dt_txt.includes("12:00:00")){
        const date = item.dt_txt.split(" ")[0];
        daily[date] = item;
      }
    });

    Object.keys(daily).slice(0,5).forEach(date=>{
      const item = daily[date];
      const div = document.createElement("div");
      div.className="day";
      div.innerHTML = `
        <div>${new Date(date).toDateString()}</div>
        <img src="https://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png" width="60" />
        <div class="dtemp">${Math.round(item.main.temp)}°C</div>
      `;
      container.appendChild(div);
    });

  }catch(e){
    alert("Error: " + e);
  }
}
</script>
</body>
</html>
